## kubernetes basic 

### 1. 创建一个集群

kubernetes协同管理一组高可用的服务器，并且作为一个单元对外统一提供服务。k8s以一种高效的方式自动管理应用容器的发布与调度。

kubernetes集群主要包含两种资源：

* Master（主控）：管理整个集群。
* Nodes（节点）：节点用于运行各种应用程序。


**常见指令**

1. 获取kubectl以及kubernetes版本号：kubectl version
2. 运行镜像 kubectl run xxname --image=xx/xx/xx:v1 --prot=8080xx
3. 获取应用数  kubectl get deployments
4. 获取POD_NAME export POD_NAME=$(kubectl get pods -o go-template --template '{{range .items}}{{.metadata.name}}{{"\n"}}{{end}}') k8s是通过pod来对运行的实例进行管理的

### 2. View Pods and Nodes

**Pods**:pod是k8s层的抽象，代表一组应用容器以及共享资源，这个应该也是服务编排解决的最重要的目标。

pod主要管理的资源包括：

1. 共享的数据存储，例如数据卷
2. 网络，例如对外提供一个唯一的集群ip
3. 信息管理，例如如何运行每个容器，每个容器运行的镜像版本，每个镜像用到哪些端口


**Nodes**：node是kubernetes的工作机，可以是物理机也可以是虚拟机，一个节点上可以有多个Pod，每个节点被master节点管理，master自动调用每个节点上的可用资源。

每个Node节点的职责为：

1. kubelet：一个负责master与node之间交互的进程，主要管理节点上的pods以及运行的容器
2. 提供容器运行时，负责从镜像中心获取镜像，运行应用。

**Troubleshooting with kubectl**

troubleshooting：诊断，解决纷争

kubectl诊断工具：

1. kubectl get: 用于获取资源信息
2. kubectl describe: 显示资源详情信息
3. kubectl logs: 打印pod中一个容器日志
4. kubectl exec: 运行pod中的容器命令






